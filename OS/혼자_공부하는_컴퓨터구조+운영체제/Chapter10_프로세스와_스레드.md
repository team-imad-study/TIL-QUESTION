# DAY2
작성일 : 2024/03/29

> 범위
- 01 프로세스 개요
- 02 프로세스 상태와 계층구조
- 03 스레드

---
> 작성자 : 
---
> 작성자 : Quarang

## Q. 프로세스 계층 구조 중, 생성 및 종료 과정에서 벌어질 수 있는 문제점들을 생각해보시오.


> 부모프로세스와 자식프로세스가 분리된 이유는 무엇?
- 특정 프로세스의 크기가 클 때 효율적으로 작업을 처리하기 위해
- 자식 프로세스들은 부모프로세스와 병렬적으로 동작하여 동작이 완료되었음을 부모 프로세스에게 알림
- 자식 프로세스에서 작업을 완료하면 각각의 결과를 수집하여 전체 프로세스를 완료함


> 프로세스 생성 과정
- 프로세스는 `fork()`을 호출하여 프로세스를 복사하고 `exec()` 시스템콜을 호출하여 복사된 프로세스에 새로운 내용을 덮어씀
- 부모는 `wait()`을 호출해 자식의 종료를 기다림
- 자식들이 작업을 모두 완료하면 `exit()`을 호출해 종료 되었음을 알림
- 부모는 대기상태가 끝나고 자식이 **사용했던 자원들을 커널에 반납**하고 다음로직을 수행함
- 이때 2가지 경우에 따라 자식프로세스는 `좀비 프로세스`와 `고아 프로세스`가 될 수 있음

> 좀비 프로세스 
- 부모 프로세스가 사용했던 자원을 커널에 반납하지 않을 시에 잔해가 생겨 메모리에 계속 남아있는 경우
- 부모가 `wait()`을 사용하지 않았을 시 이런 문제가 생김
- 좀비 프로세스를 `abort()`을 호출해 강제 종료 시키거나, 그냥 부모 프로세스를 정지 시키면 됨

> 고아 프로세스
- 자식 프로세스가 종료되기 전에 부모프로세스가 종료된 경우
- 이 역시 부모가 `wait()`을 사용하지 않았을 시 이런 문제가 생김
- 이럴 경우 모든 프로세스의 조상 프로세스인 `init 프로세스`에게 자식을 입양 시킴
- init 프로세스는 1의 PID를 가지게 됨


> 참고
- https://velog.io/@buna1592/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EC%A2%80%EB%B9%84-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EA%B3%A0%EC%95%84-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-Zombie-Orphan-Process
- https://code-lab1.tistory.com/39
- https://ko.wikipedia.org/wiki/Init
- https://velog.io/@yuseogi0218/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EC%83%9D%EC%84%B1%EA%B3%BC-%EC%86%8C%EB%A9%B8
---
> 작성자 : 
---