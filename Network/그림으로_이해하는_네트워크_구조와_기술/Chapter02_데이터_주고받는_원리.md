# DAY2
작성일 : 2024/01/15

> 범위
- 05 프로토콜
- 06 네트워크 계층
- 07 네트워크 모델
- 08 TCP/IP
- 09 IP 주소
- 10 IPv4/IPv6

> 작성자 : ncookie

## Q1. IMAD에서 채택 중인 REST API는 프로토콜인가? 그 이유는?

REST(RESTful, Representational State Transfer)는 프로토콜이 아니라 아키텍처 스타일이다. 이러한 REST 아키텍처를 스타일의 제약 조건을 준수하고 RESTful 웹 서비스와 상호 작용할 수 있도록 하는 애플리케이션 프로그래밍 인터페이스(API)를 REST API라고 부른다.

REST는 웹 기반 시스템에서 리소스 간 상태 전이를 나타내기 위한 아키텍처적인 원칙의 모음이며 주로 HTTP 프로토콜을 기반으로 한다. 그러나 일반적으로 HTTP에서 쓰일 뿐 종속적인 것은 아니다.

> 참고 : [REST API란?](https://www.redhat.com/ko/topics/api/what-is-a-rest-api)

## Q2. TCP/UDP의 사용 예시와 그 이유

### TCP
- 누락되는 데이터가 있으면 안 되고 안정적인 통신을 원할 때 사용
- 파일 전송(FTP), 이메일(SMTP, POP3), 웹 브라우징(HTTP) 등

### UDP
- 데이터의 신뢰성보다는 속도(실시간 통신)가 중요하고 패킷이 누락되어도 감수할 수 있는 경우 사용
- 실시간 스트리밍, 온라인 게임, 보이스톡 등

## Q3. 스마트폰에서 모바일 데이터(LTE/5G)를 사용했을 때 할당받는 IP는 공인 IP일까 사설 IP일까? 그 이유는?

일반적으로 모바일 통신 사업자가 데이터 네트워크를 사용하는 스마트폰 이용자들에게 할당하는 IP 주소는 공인 IP 주소가 아닌 사설 IP 주소다. 이는 IP 주소의 한계와 효율성을 고려하여 구현된 방식 중 하나다.

공인 IP(글로벌 IP 주소)는 약 43억 개로 제한되어 있기 때문에 대륙별, 국가별, 이동통신 사업자(통신사)별로 할당하여 사용되고 있다. 통신사는 네트워크 주소 변환(Network Address Translation, NAT)을 통해 사용자들이 사설 IP 주소로부터 외부 인터넷과 통신할 수 있도록 한다. (이 때 여러대의 클라이언트(기기)들이 하나의 IP를 실시간으로 공유하는 경우가 많다.)

NAT는 여러 사용자를 하나의 공인 IP 주소로 연결하고, 통신 패킷의 출발지 주소를 변환하여 인터넷에서의 고유한 출발지 주소를 숨긴다.

> 참고 : [How are cellphone IP addresses assigned?](https://serverfault.com/questions/60361/how-are-cellphone-ip-addresses-assigned)

---

> 작성자 : quarang

## 질문1. 아이매드 서비스에서 클라이언트에서 서버로 데이터를 전송할때 각 계층에서의 역할을 설명하시오 

기존에는 "**아이매드 클라이언트와 서버까지의 데이터 전송과정을 OSI 7계층 별로 설명하시오**"에 대한 질문이였으나 구분하기 다소 어려운 부분이 있어 질문을 변경

TCP/IP 계층 구조로 설명하면 다음과 같다.
#### 1. 응용 계층
-  HTTP프로토콜을 사용하여 네트워크 통신 메세지를 생성
-  여기서 생성된 메세지라는 것은 데이터의 대한 정보 `헤더`와 보낼 데이터 본문 `페이로드`로 모듈화됨
#### 2. 전송 계층
- 응용계층에서 만들어진 HTTP 요청 메시지는 TCP프로토콜을 사용하여 `세그먼트`로 캡슗화됨
- 아이매드 서비스 기준으로는 데이터가 손실되거나 순서가 보장되어야함으로 클라이언트와 서버 간의 핸드셰이크를 수행애햐함
#### 3. 인터넷 계층
- 전송계층에서 만들어진 세그먼트를 IP프로토콜을 사용하여 `패킷`으로 캡슐화됨
- 이 패킷은 클라이언트와 서버의 최적의 경로를 설정하게 고 각각의 IP 주소를 가지게 되며, 이를 통해 데이터가 네트워크를 통해 목적지에 도달할 수 있음
#### 4. 네트워크 접근 계층
- 인터넷 계층에서 생성된 패킷을 인터넷 종류(이더넷, Wi-Fi)에 따라서 각자의 맞는 `프레임`으로 캡슐화됨
- 데이터를 전기신호로 변환하여 라우터로 전송하게 됨


## 질문2. TCP/IP가 인터넷 통신할 때 기본 프로토콜인 이유를 설명하시오


- TCP/IP는 네트워크의 프로토콜 스택중 일부로 온라인 상에 데이터를 효율적이고 안전하게 전송할 수 있는 프로토콜 스택이기 때문
- 상황에 따라선 실시간 통신을 위해 RTP/RTCP프로토콜을 사용하는 경우도 있지만, 기본적인 서비스를 위한 통신에 가장 적합한 프로토콜이기 때문

## 질문3. ipv6의 문제점을 설명해 보시오

- IPv4를 보완하기 위해 생긴건 사실이지만, IPv4와 IPv6는 서로 다른 프로토콜이기 떄문에 호횐성면에서 다소 아쉬움이 있음
- IPv4가 더 대중화되어있기 때문에 함께 운용해야하는 경우 관리가 다소 복잡해 질수 있음
- IPv6는 포트주소가 더 많기 때문에 보안측면에서 더욱 복잡한 알고리즘이 필요하며 IPv4에 비해 탄생한지 얼마 되지 않아 아직은 보안에 취약함


---
> 작성자 : PCYSB

## Q1. 프로토콜을 준수하지 않고 데이터를 보낼시 어떤 일이 생길까?

기본적으로는 데이터 전송이 되지 않는다. 하지만 만약에 전송이 되었다면 데이터의 손상및 오류 프로토콜을 준수 하지 않았기에 수신자의 이해 불가 수신자는 올바른 방식으로 데이터를 해석할 수 없어 통신이 원활하게 이루이지지 않을수 있으며 일부 프로토콜의 경우 보안 기능을 포함 하기에 이를 준수 하지 않는다면 데이터가 엿보일수 있다.

 
## Q2. 프로토콜이 다르면 서로 통신을 하기가 어렵다 그런데 왜 통신을 할때 여러 프로토콜이 나온건지, 그리고 왜 한가지만의 프로토콜 기준을 선언해서 사용하지 않은건지 에 대해서 설명하라

프로토콜은 각각의 데이터 전송 목적에 따라 적합한 것들이 있으며 서로 다른 성능 특성을 가진다. 이는 각각의 분야마다 유용한 프로토콜이 존재 할 수 있다는 것인데
이를 사용하여 특정 분야에서 더 뛰어난 성능과 기능을 제공할 수 있으며 기술 발전적 측면으로서 좀 더 뛰어난 프로토콜들이 등장했을 시 통신 성능이 향상 될 것이기에 각각의 특성에
맞게 프로토콜을 선택하여 사용함으로 최적의 성능과 효율성을 확보할 수 있다.



## Q3. 계층 구조가 엄격할시 어떤 점이 라우팅에 좋은 것인가?

- 현재 배운 내용들만으로는 아직 대답 할 수 없어 보류([#1](https://github.com/team-imad-study/study-question/issues/1) 참고)

---

> 작성자 : KUN

## Q1. UDP 프로토콜과  TCP 프로토콜의 특성을 설명하시오

UDP 프로토콜 - 속도와 편의성우선 포트번호를 부여함

TCP 프로토콜 - 신뢰성과 확실성을 높이는목적 포트번호와 세션 관리 정보등을 부여함

## Q2. 프로토콜은 각 목적에 맞는 여러개의 계층으로 이루어져있습니다. 데이터를 주고받는 과정에서 계층을 지날때마다 “이것” 이 붙어서 이동을 하는데요 이것은 무엇일까요?
EX)데이터 송신 예시
![다운로드 (2)](https://github.com/team-imad-study/study-question/assets/136051281/95b47ad1-2ab4-49a7-b969-4bc4d5f21f28)
이러한 방식으로 각계층을 지날때마다 헤더로 감싸지게 되고
이러한 현상을 데이터의 캡슐화라고 부른답니다.
(데이터 수신때는 역방향으로 진행) 

## Q3. 지금 우리의 세상에는 IPv4 의 주소 부족을 문제로 IPv6 버젼도 사용하고있습니다. 하지만 만약! IPv6의 개발이 없어 전세계의 IP주소가 한계가 있다면 앞으로 어떠한 일이 벌어질까요?

IPv4 와 IPv6의 관계가 확장의 개념이 아닌 서로 호환이 안되는 별도의 개념이기에 
전제가 잘못된 문제가 되어버렸음...
(본인이 생각한 개념이 아님)
기각!!




 


---

# DAY3
작성일 : 2024/01/17

> 범위
- 11 MAC 주소
- 12 ARP
- 13 포트번호
- 14 회선 교환 방식
- 15 패킷 교환 방식


> 작성자 : Quarang

## 1. **로컬 통신 중 해당 기기의 MAC주소를 아는 방법은? 그리고 그 과정은?**

<img width="1060" alt="스크린샷 2024-01-17 오전 10 12 59" src="https://github.com/team-imad-study/study-question/assets/31721255/24177ef2-ecee-424c-b9cf-8d921d316da2">


## 2. 아이매드는 포트번호가 몇번이며 몇개일까?

- 아이매드 서버는 HTTPS를 쓰기 때문에 443번을 씀
- 하지만 AWS에 호스팅을 하는 과정에서 포트번호를 어플리케이션 통신을 위해 8080으로 변경하게 됨
- 포트번호는 서버개발자의 설정으로 서비스의 개수에 따라 다름으로 서버개발자에게 물어보자

## 3. **디스코드의 음성통화는 패킷교환 방식일까?**

1. **음성 채팅 (데이터그램 방식):**
    - **데이터그램 방식(Datagram):** 음성 통화는 실시간성이 중요하며, 데이터그램 방식은 각각의 패킷이 독립적으로 전송되는 방식
    - **비연결 지향(Connectionless):** 데이터를 전송하기 전에 미리 설정된 연결이 없습니다. 각각의 패킷은 독립적으로 처리되며, 패킷은 목적지에 도달할 때까지 동일한 경로로 전송되지 않을 수 있음
    - **패킷 분할과 재조립:** 데이터는 작은 패킷으로 나누어져 전송되며, 목적지에서는 패킷을 받아서 다시 조립함
    - **UDP(사용자 데이터그램 프로토콜):** 데이터 그램 방식은 UDP 프로토콜을 사용합니다. UDP는 간단하고 빠르지만, 전송 중에 손실이나 중복이 발생할 수 있음
2. **일반 텍스트 채팅 (가상회선 방식):**
    - **가상회선 방식(Virtual Circuit):** 텍스트 채팅은 실시간성이 상대적으로 중요하지 않으며, 일반적으로 가상회선 방식을 사용하여 연결을 설정하고 메시지를 주고받음
    - **연결 지향(Connection-oriented):** 데이터를 전송하기 전에 가상 회선을 설정하고 유지합니다. 이 가상 회선은 데이터 전송 동안에 계속 유지되며, 데이터는 목적지까지 항상 동일한 경로를 통해 전송됨
    - **패킷 분할과 재조립:** 가상 회선 방식도 패킷 스위칭을 사용하며, 데이터는 일정한 크기의 패킷으로 나누어져 전송됨
    - **TCP(전송 제어 프로토콜):** 대표적인 가상 회선 방식 프로토콜은 TCP입니다. TCP는 신뢰성 있고 연결을 유지하는 특징을 가지고 있음
    
    **차이점 요약**
    
    - **연결 방식:** 데이터 그램은 비연결 지향이며, 가상 회선은 연결 지향
    - **전송 경로:** 데이터 그램은 각 패킷이 독립적으로 전송되어 경로가 달라질 수 있습니다. 가상 회선은 연결을 유지하며 항상 동일한 경로를 사용
    - **신뢰성:** 데이터 그램은 손실이나 중복이 발생할 수 있습니다. 가상 회선은 신뢰성 있는 전송을 제공
    - **프로토콜:** 데이터 그램은 UDP를 사용하고, 가상 회선은 주로 TCP를 사용

---

> 작성자 : ncookie

## Q1. MAC 주소는 약 280조 개를 표현할 수 있다. 그렇다면 MAC 주소 충돌은 발생하지 않을까? 그 이유는?

발생한다. 

MAC 주소는 IEEE에서 수수료를 받으며 관리하고 있지만 일부 제조사에서 생산되는 한 모델의 제품에 같은 MAC 주소를 할당하고 팔아도 이를 잡을 수 있는 방법은 거의 없다. 법적인 제약 또한 없으므로 제한하기도 어렵다. 또한 보안을 위해 MAC 주소를 랜덤으로 변경하는 경우에도 중복이 발생할 수 있다.

LAN 네트워크 내에서 같은 MAC 주소를 사용하고 있는 장치가 2개 이상이라면 주소 충돌이 발생해 통신에 문제가 발생한다. 네트워크 기기에서 장치를 특정할 수 없기 때문이다.

한 사람이 MAC 주소가 모두 같은 모델의 제품을 여러 개 사서 사용하거나 일부러 주소를 똑같게 만드는 것과 같은 경우가 아니라면, MAC 주소가 중복될 확률은 1/2^24이다. 그리고 외부 네트워크와의 통신을 할 때는 MAC 주소보다는 IP 주소가 중요하다. 때문에 대부분 MAC 주소 중복으로 인해 문제가 발생하는 경우는 거의 없다. 

실제 규모가 큰 서비스의 로그를 보면 MAC 주소가 겹치는 경우가 많다고 한다. (특히 중국산 네트워크 관련 제품 사용 시)

> 참고
> - [MAC주소(MAC Address)에 대한 잘못된 오해, 편견들](https://pcb4.tistory.com/category/%ED%87%B4%EC%A7%81%2C%ED%87%B4%EC%82%AC%2C%EA%B5%AC%EC%A7%81%2C%EC%B7%A8%EC%97%85%20%ED%99%9C%EB%8F%99)
> - [맥 주소 MAC Address IP 주소처럼 추적 및 증거될까? 변경방법은?](https://netxhack.com/network/mac-address-trace-evidence/)

## Q2. LAN 내부에서는 MAC 주소를 알아야 통신할 수 있는데 외부에 있는 네트워크와는 IP만 알고서 어떻게 통신하는가?

내부 네트워크에서는 MAC 주소가 주로 사용되지만, 외부 네트워크와의 통신에서는 IP 주소가 중요하다. 이는 라우터를 통해 다른 네트워크로 라우팅되기 때문이다. 라우터는 송신자의 IP 주소를 확인하고 이를 기반으로 패킷을 다음 네트워크로 전송한다. 그리고 라우터는 해당 패킷을 받은 뒤에 이를 내부 네트워크에서 사용되는 MAC 주소로 변환하여 전달한다.

따라서 내부 네트워크에서는 MAC 주소를 사용하여 통신하고, 외부 네트워크와의 통신에서는 IP 주소를 사용하여 라우팅 및 목적지 식별을 수행한다.

## Q3. 현재의 스마트폰도 회선 교환 방식을 사용할까? + 그렇게 생각한 이유와 예시

스마트폰은 패킷 교환 방식을 사용한다. 정확하게는 LTE/5G 모델부터 패킷 교환 방식을 사용하기 시작했으며 그 전까지는 회선 교환 방식만 사용하거나 혼합해서 사용했다.

음성 통화할 때 패킷 교환 방식을 사용하기 때문에 음성과 영상을 동시에 보내야하는 **영상통화**, 일대일로 회선을 독점하면 구현하기 어려운 **그룹통화** 등을 예시로 들 수 있다. 보이는 **ARS**와 같은 서비스의 경우 스마트폰 화면에 특정 컨텐츠(앱 또는 웹)를 띄울 수 있다.

> [5G 서비스 구현 기술의 이해 中]
> 
> 우리나라에서 이동통신 서비스가 처음 시작된 것은 1984년이다. 1세대(1G)라고 불리는 당시의 이동통신 서비스는 아날로그 방식으로 음성통화만 가능했다. 이후 1996년에는 디지털 방식의 2G 이동통신 서비스가 개시됐다. 이때부터는 음성통화 뿐만 아니라 문자나 저속의 데이터 통신도 가능했다. 2002년 시작된 3G 이동통신 서비스에서는 데이터 통신 속도가 빨라져 저화질의 영상통화나 동영상 서비스가 가능해졌다. 하지만, 통신 속도의 한계로 텍스트나 이미지 중심의 모바일 웹서비스나 팟캐스트 같은 오디오 스트리밍 서비스가 주로 이용되었다.
> 
> 그리고, 2011년 7월 시작된 4G 서비스에서는 통신속도가 더욱 빨라져 초고속 무선 인터넷 및 고화질 동영상 서비스를 이용하는 것이 가능해졌다. 품질 보장을 위해 기존에 회선교환 방식으로 제공되던 음성통화 서비스도 데이터 통신에 사용되는 패킷교환 방식에 통합되었다.

![image](https://github.com/team-imad-study/study-question/assets/16646208/6a8930cf-b4f6-4fe6-b5e8-17444dda9f40)

회선 교환 방식은 현재에 이르러 잘 사용되지 않는다. 구식 전화기나 극도의 보안 상황을 요구하는 경우(군용, 의료분야 등), 특정한 산업분야 또는 기기와 같이 예외적인 경우들이 대부분이다.

> 참고 : [5G 서비스 구현 기술의 이해](https://koreascience.kr/article/JAKO201924156252200.pdf)

