# DAY18
작성일 : 2024/02/26

> 범위
- 73 보안의 기본과 개념
- 74 멀웨어/컴퓨터 바이러스

---

> 작성자 : PCYSB

## Q. 정보 보안의 세 가지 요소로 구성된 CIA 원칙의 기밀성, 무결성, 가용성을 훼손하는 상황을 각각 하나씩 설명 해주세요

**1. 기밀성**

기밀성은 사용을 승인받은 사람만 해당 정보에 접근할 수 있는 성질을 뜻한다.
- 데이터 유출: 해커가 조직의 데이터베이스나 서버에 침입하여 기밀 정보를 획득하는 경우
- 피싱: 사용자들을 속여 개인 정보나 로그인 정보를 입력하도록 유도하는 공격
- 스파이웨어: 사용자의 컴퓨터에 설치되어 사용자의 행동을 모니터링하고 기밀 정보를 수집하는 악성 소프트웨어

**2. 무결성**

무결성은 객체의 진실성 및 원래의 상태를 유지하고 오직 자격 보유 주체만이 변경할 수 있도록 하는 원칙이다.
- 데이터 조작 및 위조: 해커가 데이터를 조작하여 조직의 기록이나 정보를 위조하는 경우
- 악성 코드에 의한 파일 변조: 악성 코드나 바이러스가 시스템에 침입하여 파일을 변조하는 경우

**3. 가용성**

가용성은 보안 장치가 있어도 사용자가 언제든 적절한 때에 정보에 접근을 할 수 있음을 말한다.
- 랜섬웨어는 주로 가용성을 훼손하는 대표적인 공격형태이다. 랜섬웨어의 경우 시스템 또는 파일을 암호화하여 사용자가 해당 resource에 접근할 수 없게 만든다. 또한 이는 무결성을 훼손하는 예시기도 하는데 랜섬웨어는 데이터를 암호하하여 사용자가 원래의 데이터에 액세스 하지못하도록 하기에 무결성에 직접적인 영향을 미치긴한다.
- 그 밖에 디도스, 하드웨어 또는 소프트웨어 장애등이 있다.

---

> 작성자 : NCookie

## 랜섬웨어 예방하는 방법

### 소프트웨어 업데이트 및 보안 패치

랜섬웨어가 네트워크에 침입하고 확산하는 일반적인 방법은 오래된 소프트웨어의 취약점을 악용하는 것이다. `취약점`이란 누군가가 악의적인 목적으로 사용할 수 있는 소프트웨어의 결함이다. 취약점이 발견되면 소프트웨어 벤더는 정기적으로 소프트웨어 업데이트의 형태로 취약점에 대한 수정 사항을 발표한다.

예를 들어, 2017년 5월에 발생한 WannaCry 랜섬웨어는 Microsoft가 이전에 해당 취약점에 대한 패치를 발표했음에도 불구하고 "이터널블루" 취약점을 이용하여 20만여 대의 컴퓨터로 확산시킨 것으로 유명하다.

랜섬웨어 공격은 또한 취약점을 악용하여 일단 네트워크에 침투한 후 네트워크 내에서 확산된다. 예를 들어, Maze 랜섬웨어는 네트워크에 일단 침투한 후 악용할 취약점을 스캔한 다음 해당 취약점을 사용하여 최대한 많은 컴퓨터를 감염시킨다.

운영 체제(OS), 웹 브라우저, 보안 소프트웨어 등 시스템에 설치된 모든 프로그램을 최신 상태로 업데이트 해야한다. 보안 업데이트는 취약점을 해결하여 해커가 악용하는 것을 방지한다.

### 신뢰할 수 있는 소프트웨어만 다운로드

소프트웨어를 다운로드할 때 공식 웹사이트나 신뢰할 수 있는 소스에서만 다운로드한다. 토렌트와 같은 비공식 소스나 의심스러운 이메일 첨부 파일을 통해 다운로드하는 것은 위험하다.

### 이메일 조심

의심스러운 이메일 첨부 파일을 열지 않고, 알 수 없는 발신자로부터의 링크를 클릭하지 않는다. 랜섬웨어는 주로 이메일을 통해 전파되므로 신뢰할 수 없는 이메일에 대해 주의를 기울이는 것이 중요하다.

특히 비밀번호가 걸려있는 압축파일은 조심해야 한다. 압축 파일에 비밀번호가 걸려있으면 보안 소프트웨어는 이를 감지하여 사전에 경고할 수 없기 때문이다.

### 백업

정기적으로 파일을 백업하여 랜섬웨어에 감염되었을 때 파일을 복구할 수 있다. 백업은 외부 저장매체에 저장되어야 하며, 백업 매체는 인터넷에 연결되어 있지 않아야 한다.

## 참고

- [랜섬웨어 공격을 방지하는 방법](https://www.cloudflare.com/ko-kr/learning/security/ransomware/how-to-prevent-ransomware/#:~:text=%EB%9E%9C%EC%84%AC%EC%9B%A8%EC%96%B4%20%EA%B3%B5%EA%B2%A9%EC%9D%84%20%EB%B0%A9%EC%A7%80%ED%95%98%EB%8A%94%20%EB%B0%A9%EB%B2%95%201%201.%20%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EB%A5%BC%20%EC%A0%95%EA%B8%B0%EC%A0%81%EC%9C%BC%EB%A1%9C,...%206%206.%20Zero%20Trust%20%EB%AA%A8%EB%8D%B8%20%EC%82%AC%EC%9A%A9%20)

---

# DAY19
작성일 : 2024/02/28

> 범위
- 75 암호화 기술
- 76 공통키 암호화 방식/공개키 암호화 방식
- 77 서버인증서/인증기관
- 78 SSL/TLS

---

> 작성자 : PCYSB

## Q 해시 함수를 이용하여 암호화 하는 방법 설명해 주세요

유저가 준 평문을 해쉬해서 암호화된 값을 DB에 저장한다. 이때 해쉬함수를 통해서 만든 암호문은 같은 값을 넣었을때는 무조건 같은 암호가 나오므로 그 값을 비교하여 같은 값 인지 판단한다.

[참고 영상](https://www.youtube.com/watch?v=67UwxR3ts2E&pp=ygUc64W466eI65Oc7L2U642UIO2VtOyLnO2VqOyImA%3D%3D)

---

> 작성자 : Quarang

## 문제. 전자서명을 사용하는 사례와 그 과정을 설명하시오.

![스크린샷 2024-02-28 오후 5 07 20](https://github.com/team-imad-study/study-question/assets/31721255/c1797f6c-ed8d-45f3-939b-ea8866403980)


#### 계약 체결
- 비즈니스나 개인 간의 계약을 체결할 때 전자서명을 사용.
- 예를 들어, 임대 계약, 고용 계약, 구매 계약 등 다양한 종류의 계약을 전자적으로 서명하여 유효한 계약을 체결.

#### 은행 및 금융 거래
- 은행이나 금융 기관에서는 전자서명을 사용하여 계좌 개설, 대출 신청, 이체 등의 서류를 처리할 수 있음.
- 이는 프로세스를 간편하게 하고 효율성을 높여줌.

#### 법적 문서 및 양식 제출
- 법적 문서나 양식을 작성하고 서명해야 할 때 전자서명을 사용할 수 있음.
- 예를 들어, 세금 신고, 법적 문서 제출, 보험 청구 등 다양한 법적 절차에 전자서명을 활용할 수 있음.

#### 의료 기록 관리
- 의료 기록이나 환자 동의서를 전자적으로 관리하고 서명할 수 있음.
- 전자서명을 통해 의료 서비스 제공자는 보다 효율적으로 환자 정보를 관리하고 의료 서비스를 제공할 수 있음.

#### 관리 및 승인 프로세스
- 기업이나 조직 내부에서 문서의 관리 및 승인 프로세스를 간소화하기 위해 전자서명을 사용할 수 있음.
- 예를 들어, 회의록, 결재 문서, 프로젝트 계획서 등을 전자적으로 서명하여 프로세스를 빠르게 완료할 수 있음.

> 앱 스토어 배포 시 전자 서명 과정

#### 1. CSR 생성(certificate signing requset)

<img width="114" alt="스크린샷 2024-02-28 오후 5 21 16" src="https://github.com/team-imad-study/study-question/assets/31721255/2cb129f4-b074-4051-a368-d54a4aa8b304">

- 인증서 발급을 요청하기 위한 파일
- 개인키 공개키 생성(키체인 접근 앱에 자동으로 추가)
- 크기는 2048비트 RSA 알고리즘을 사용
- CSR로 전사 서명 인증서 발급

#### 2. 전사 서명 인증서 발급

<img width="114" alt="스크린샷 2024-02-28 오후 5 21 22" src="https://github.com/team-imad-study/study-question/assets/31721255/4d79b93b-e200-4b4b-a3a2-d22b5a45dd77">

- 앱스토어에 접속해 certificate 생성
- 생성 시 만들어둔 CSR로 인증 요청
- 앱의 용도와 배포 방법을 선택한 후 인증서 생성
- 생성 받은 인증서 설치 시

#### 3. 앱 배포

- 배포 형태와 계정 선택
- 가지고 있는 전자 서명과 함께 앱 배포 시작
- 애플 커넥트에서 해당 전자 서명에 대한 인증이 완료되면 앱 배포준비 완료

<img width="441" alt="스크린샷 2024-02-29 오후 1 30 22" src="https://github.com/team-imad-study/study-question/assets/31721255/7d44e1ed-ab70-4f4d-b71b-60fdd3a6c204">

---
> 작성자 : KUN

## Q. HTTPS 와 SSL 은 같은 의미로 알고있는경우가 많다 이는 맞는 말일까? 아닐까?

![image2014-7-30+23_29_18](https://github.com/team-imad-study/study-question/assets/136051281/0e08390e-15b7-4e2b-899b-0beac0a914b6)

### 자세히 이야기 하면 다른 개념이다.

웹이 인터넷 위에서 돌아가는 서비스중 하나인 것 처럼
HTTPS 또한 SSL 프로토콜 위에서 돌아가는 프로토콜이기 때문이다.

SSL 디지털 인증서를 인증기관에서 서버에게 발급을해주고
이서버에 클라이언트가 접속을 한 직후에
서버는 클라이언트에게 인증서 정보를 전달하게된다.
신뢰가 되는 인증서라고 확인후 통신을 시작하게 된다


---

> 작성자 : NCookie

## SSL에서는 대칭키와 비대칭키 방식을 혼합해서 사용한다. 그 이유는?

## 이유

### 계산 비용

- 대칭키: 대칭키 암호화는 비교적 간단한 연산(대칭키를 사용한 XOR 연산 등)으로 이루어지기 때문에 계산 비용이 적다.
- 비대칭키: 공개키 암호화는 복잡한 수학적 계산을 요구한다. 공개키와 개인키의 관계를 이루는 수학적 연산을 수행해야 하므로 계산 비용이 많이 들어간다.

### 알고리즘 취약점

- 대칭키 : 충분히 안전하고 널리 사용되는 알고리즘들이 대부분이다.
- 비대칭키 : 패딩 오라클 공격, 소수 분해 공격, 비선형 연산 공격 등의 취약점이 있다. 키쌍 중 하나가 공개되어 있기 때문에 나머지 소수 한쌍을 추측하기 비교적 쉽다고 한다.

위와 같은 이유들 때문에 SSL에서 대칭키와 비대칭키를 혼합해서 사용한다.

## 통신 방식

1. 서버에서 비대칭키(공개키, 개인키) 쌍을 생성한다.
2. 클라이언트에서 대칭키를 생성한다.
3. 클라이언트에서 대칭키를 서버의 공개키로 암호화해서 보낸다.
4. 서버는 암호화된 대칭키를 개인키로 복호화한다.

위 과정을 통해 클라이언트는 성능, 안정성 측면에서 더 좋은 대칭키를 서버로 암호화해서 보낼 수 있다.

이 때 클라이언트에서 생성하는 대칭키는 서버와 클라이언트 간의 세션이 유지되는 사용되기 때문에 **세션키**라고도 한다. 또한 키를 교환하는 과정을 **IEK(Internet Key Exchange)** 라고 한다.

실제로는 이 방식을 그대로 사용하면 **MITM attack(중간자 공격)** 에 노출되기 때문에 신뢰할 수 있는 CA를 통해서 인증서와 공개키를 교환한다.

## CA/RA

서버에서 자체적으로 비대칭키 쌍을 생성해서 IEK 동작을 수행하면 MITM 공격으로 클라이언트의 대칭키를 탈취당할 수 있다. 때문에 신뢰할 수 있는 **인증기관**을 사이에 두고 키를 교환한다.

먼저, 서버에서 `RA(Registration Authority)`에게 비대칭키 키쌍을 요청한다. RA는 공개키, 서버의 도메인 주소, 인증서 만료일, 암호화된 해시 정보 등을 포함한 **인증서**와 **개인키**를 발급한다.

인증서를 발급한 CA/RA 측에서는 자체 DB에 발급한 인증서 정보를 저장한다. OS, 브라우저 등에서는 이를 주기적으로 업데이트해서 로컬에 저장한다. 여기서 로컬에 저장되는 인증서는 서버 측에서 받은 인증서를 검증하기 위해 사용한다.

![image](https://github.com/team-imad-study/study-question/assets/16646208/3a20c24d-55a1-40ca-aa0b-914e2f9c1eb3)
> 윈도우의 `certmgr.msc`에서 확인할 수 있는 인증서

서버에서 RA에 요청해 발급받은 인증서에는 암호화된 해시값이 있는데, 이는 CA의 비대칭키 중 개인키로 암호화한 전자서명이다. 이 서버와 통신하려는 클라이언트는 SSL 핸드쉐이킹 과정에서 인증서를 전달받는다.

클라이언트는 인증서에서 발급기관을 확인한 후, 로컬에 저장되어 있는 인증서 목록 중 해당 기관의 공개키로 암호화된 해시값(전자서명)을 복호화한다. 전자서명이 유효한 것이 확인됐다면 해당 인증서는 안전하다고 판단된다.

> 이 때, 서버에서 RA 측에서 발급받고 클라이언트에게 보내주는 인증서가 만약 중간공격자에게 통째로 탈취당했다면? 이를 위해 CRLs, OCSP, CT, HPKP 등의 프로토콜이나 시스템을 통해 인증서의 위조, 탈취 여부를 확인할 수 있다고 한다.

## 참고

- [비대칭키가 인터넷 환경에서 사용되는 기본 원리](https://www.youtube.com/watch?v=jyZ7TQaFy_o&list=PLXvgR_grOs1CakfdJgCy_Df14U3DqRuPk&index=8&ab_channel=%EB%84%90%EB%84%90%ED%95%9C%EA%B0%9C%EB%B0%9C%EC%9E%90TV)
- [HTTPS와 SSL 인증서](https://opentutorials.org/course/228/4894)

---

# DAY20
작성일 : 2024/03/01

> 범위
- 79 방화벽
- 80 DMZ
- 81 IDS/IPS
- 82 VPN/터널
- 83 트래픽 감시/로그 감시

---

> 작성자 : KUN

### Q. 책에서는 일반적으로 방화벽은 LAN의 경계인 엣지라우터 바로뒤(내부)에 설치된다고 합니다. 하지만 일상생활에서 우리는 가정용컴퓨터나 노트북에서 방화벽 설정을 건드려본적이 있습니다. 이건 어떻게 된걸까요??

- 컴퓨터에서 설정할 수 있는 방화벽은 운영체제 에서 제공하는 별
도의 방화벽 입니다. 이 방화벽은 소프트웨어로 동작하는 로컬 방
화벽으로서 해당 컴퓨터에서 발생하는 트래픽을 보호하고 외부에
서의 공격을 방어합니다.

- 물론 앞에서 이야기했던 LAN 의 끝 엣지라우터에 설치되는 방화
벽과는 별개의 방화벽으로써 이렇게 방화벽이 몇겹씩 쳐져 보호
되는 것을 다중 방화벽(Multy-Layer Firewall)
이라고 합니다.

---

> 작성자 : NCookie

## DMZ에서 내부망으로 데이터를 보내는 방법

### 포트 포워딩 (Port Forwarding)

DMZ에 위치한 서버에서 내부망의 서버로 데이터를 전송해야 할 때 사용한다. DMZ 서버에 데이터를 받는 포트를 열고, DMZ 서버의 관리자가 이 포트를 내부망의 서버로 포워딩하여 데이터를 전달한다.

### VPN (가상 사설망)

DMZ에 있는 서버에서 내부 네트워크로 안전하게 데이터를 전송할 수 있다. VPN을 설정하여 DMZ 서버와 내부 네트워크 간의 안전한 터널을 만들고, 그 터널을 통해 데이터를 보낸다.

### 방화벽 규칙 (Firewall Rules)

DMZ와 내부망을 분리하는 방화벽을 통해 안전하게 데이터를 전송할 수 있다. DMZ에 위치한 서버가 내부 네트워크로 데이터를 보낼 때, 방화벽 규칙을 설정하여 허용된 포트와 프로토콜로만 데이터 전송이 가능하도록 한다.

### 중간 서버 활용

DMZ에 위치한 서버에서 데이터를 중간 서버로 전송하고, 중간 서버가 내부망으로 데이터를 전달하는 방법도 있다. 이 경우에는 DMZ와 내부망 사이에 위치한 중간 서버를 통해 데이터를 라우팅하여 전달한다.

---

> 작성자 : PCYSB

## Q. IPS와 방화벽의 차이를 말해주세요

**1. 목적**
- 방화벽의 경우 네트워크 입구에서(LAN과 인터넷으로 이어지는) 내부와 외부 간의 트래픽을 제어하고 필터링하여 불법적인 액세스 및 공격을 방지하는데 중점을 둔다.
- ISP의 경우 주로 네트워크 내에서 발생하는 침입을 감지하고 차단하여 신속한 대응을 제공

**2. 동작 방식**
- 방화벽: 패킷 필터링 및 정책 기반의 접근 제어를 통해 트래픽을 허용 또는 차단한다.
-> 정책의 경우 관리자가 정한
- ISP: 트래픽을 모니터링하고, 알려진 공격 시그니처나 행동 분석 등을 기반으로 침입을 탐지 하며, 필요한 경우 차단

> 방화벽의 경우에는 사람 몸으로 비유하자면 피부와 같이 내부에 침입하기 힘들게 하는 역할을 하고 ISP의 경우 백혈구와 같이 내부에서 침입을 탐지하고 대응하는 역할을 한다.

---

> 작성자 : Quarang

## 문제. 유니콘 HTTPS라는 어플리 케이션은 VPN일까?

결론은 **아님**

유니콘 HTTPS는 내부에서 Fake VPN 작동으로 우회를 돕지만, 말 그대로 Fake이기 때문에 IP 변경이 되지 않아 지역락, 국가제한 등은 우회할 수 없음. VPN 소프트웨어로 오해받는 경우가 많지만, DNS 변경 소프트웨어라고 할 수 있음.

일부 국가에서 HTTPS 접속을 차단하고 있고 그중 한국이 포함되어 있음. 때문에 이를 우회하기 위해 VPN을 주로 사용하고 있어 웬만한 환경에선 활용 가능하지만, IP 주소를 변경해야 하거나 국가 정보를 변경해야 할 경우 정식 VPN을 사용해야 함. 쉽게 말해 HTTPS 차단 해제가 목적이라면 유니콘을 사용하면 되고, IP 주소 변경이나 접속 이력을 남기지 않고 싶거나, 국가 정보를 변경해야 하는 경우엔 VPN을 사용하면 된다고 함. VPN은 무료와 유료가 있고 각각의 장점이 있기 때문에, 유니콘과 무료 VPN, 유료 VPN을 적절하게 활용하는 것이 좋음.

---

> 작성자 : Quarang


## 문제. Firebase에서는 이벤트로그 혹은 패킷 캡처 기능을 지원할까?


**Firebase는 네트워크 패킷 캡처와 같은 기능을 직접적으로 제공하지는 않지만 
Firebase Performance Monitoring을 사용하여 앱의 성능을 모니터링하고 성능에 관련된 이벤트를 기록할 수 있음.**

Firebase Performance Monitoring은 앱의 네트워크 요청 및 응답 시간, 앱 시작 시간 및 화면 이동 시간 등과 같은 성능 관련 데이터를 수집하여 제공함. 또한 Firebase Crashlytics를 사용하여 앱에서 발생하는 충돌 및 오류를 추적하고 기록할 수 있다고함.

Firebase는 앱의 사용자 및 이벤트에 대한 분석을 위해 Firebase Analytics를 제공하며, 특정 이벤트에 대한 로그를 기록하고 사용자 행동을 추적할 수 있음. 이를 통해 사용자의 앱 사용 패턴 및 행동을 이해하고 분석할 수 있음.

Firebase에서 직접 네트워크 패킷을 캡처하려는 경우에는 대신 Firebase SDK를 사용하여 네트워크 요청 및 응답을 로깅하고 이에 대한 사용자 지정 분석을 수행할 수 있음. 또는 앱에 적합한 서드파티 라이브러리를 사용하여 네트워크 패킷 캡처를 구현할 수도 있음.

